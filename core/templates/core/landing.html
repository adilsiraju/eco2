{% extends 'core/base.html' %}
{% load static %}
{% load django_bootstrap5 %}
{% block title %}Sustainable Investing for a Greener Future{% endblock %}
{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">Invest in a Sustainable Future</h1>
                <p class="lead mb-4">Connect with eco-friendly projects and startups that generate returns while making a positive impact on our planet.</p>
                <div>
                    <a href="{% url 'initiative_list' %}" class="btn btn-light btn-lg me-2 mb-2 mb-md-0">Start Investing</a>
                    <a href="{% url 'learn_more' %}" class="btn btn-outline-light btn-lg">Learn More</a>
                </div>
            </div>
            <div class="col-lg-6 d-none d-lg-block text-center">
                <img src="{% static 'images/hero.jpg' %}" alt="Sustainable Investing" class="img-fluid rounded shadow-lg mt-5 mt-lg-0">
            </div>
        </div>
    </div>
</section>

<!-- Key Metrics Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-4 mb-4 mb-md-0">
                <div class="p-4">
                    <i class="fas fa-tree feature-icon"></i>
                    <h2 class="h1 fw-bold">1,200+</h2>
                    <p class="lead">Projects Funded</p>
                </div>
            </div>
            <div class="col-md-4 mb-4 mb-md-0">
                <div class="p-4">
                    <i class="fas fa-dollar-sign feature-icon"></i>
                    <h2 class="h1 fw-bold">$50M+</h2>
                    <p class="lead">Investments Made</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-4">
                    <i class="fas fa-globe-americas feature-icon"></i>
                    <h2 class="h1 fw-bold">125K</h2>
                    <p class="lead">Tons of CO₂ Reduced</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section id="how-it-works" class="py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-md-12 text-center">
                <h2 class="fw-bold">How Ecovest Works</h2>
                <p class="lead text-muted">We make green investing simple, transparent, and impactful</p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 mb-4">
                <div class="text-center">
                    <div class="d-inline-block rounded-circle bg-light p-4 mb-4">
                        <i class="fas fa-search feature-icon"></i>
                    </div>
                    <h3>Discover Opportunities</h3>
                    <p>Browse sustainable initiatives and startup companies across renewable energy, conservation, and green technology.</p>
                </div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="text-center">
                    <div class="d-inline-block rounded-circle bg-light p-4 mb-4">
                        <i class="fas fa-hand-holding-usd feature-icon"></i>
                    </div>
                    <h3>Invest Easily</h3>
                    <p>Choose your investment amount and support projects or startups aligned with your values and goals.</p>
                </div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="text-center">
                    <div class="d-inline-block rounded-circle bg-light p-4 mb-4">
                        <i class="fas fa-chart-line feature-icon"></i>
                    </div>
                    <h3>Track Impact</h3>
                    <p>Monitor your portfolio's financial performance and environmental impact with AI-powered insights.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Opportunities Section -->
<section id="projects" class="py-5 bg-light">
    <div class="container">
        <div class="row mb-5">
            <div class="col-md-12 text-center">
                <h2 class="fw-bold">Featured Opportunities</h2>
                <p class="lead text-muted">Explore high-impact initiatives and startup companies ready for your investment</p>
            </div>
        </div>
        <div class="row">
            {% for initiative in featured_initiatives %}
                <div class="col-lg-4 mb-4">
                    <div class="card project-card h-100">
                        {% if initiative.image %}
                            <img src="{{ initiative.image.url }}" class="card-img-top" alt="{{ initiative.title }}">
                        {% else %}
                            <img src="https://source.unsplash.com/random/600x400/?{{ initiative.categories.first.name|lower }}" class="card-img-top" alt="{{ initiative.title }}">
                        {% endif %}
                        <div class="card-body">
                            <div class="mb-2">
                                {% for category in initiative.categories.all %}
                                    <span class="badge bg-primary me-1">{{ category.name }}</span>
                                {% endfor %}
                            </div>
                            <h4 class="card-title">{{ initiative.title }}</h4>
                            <p class="card-text">{{ initiative.description|truncatewords:20 }}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-success fw-bold">
                                    {% widthratio initiative.current_amount initiative.goal_amount 100|floatformat:0 %}% Funded
                                </span>
                                <span class="text-muted">Target: ₹{{ initiative.goal_amount|floatformat:2 }}</span>
                            </div>
                            <div class="progress mt-2">
                                <div class="progress-bar bg-success" role="progressbar" style="width: {% widthratio initiative.current_amount initiative.goal_amount 100 %}%" aria-valuenow="{% widthratio initiative.current_amount initiative.goal_amount 100 %}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                        <div class="card-footer bg-white border-0">
                            <a href="{% url 'invest_initiative' initiative.id %}" class="btn btn-primary w-100">Invest Now</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
            {% for company in featured_companies %}
                <div class="col-lg-4 mb-4">
                    <div class="card project-card h-100">
                        {% if company.image %}
                            <img src="{{ company.image.url }}" class="card-img-top" alt="{{ company.name }}">
                        {% else %}
                            <img src="https://source.unsplash.com/random/600x400/?{{ company.categories.first.name|lower }}" class="card-img-top" alt="{{ company.name }}">
                        {% endif %}
                        <div class="card-body">
                            <div class="mb-2">
                                {% for category in company.categories.all %}
                                    <span class="badge bg-primary me-1">{{ category.name }}</span>
                                {% endfor %}
                            </div>
                            <h4 class="card-title">{{ company.name }}</h4>
                            <p class="card-text">{{ company.description|truncatewords:20 }}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-success fw-bold">
                                    {% widthratio company.shares_sold company.total_shares 100|floatformat:0 %}% Sold
                                </span>
                                <span class="text-muted">Shares: {{ company.total_shares }} (₹{{ company.share_price|floatformat:2 }}/share)</span>
                            </div>
                            <div class="progress mt-2">
                                <div class="progress-bar bg-success" role="progressbar" style="width: {% widthratio company.shares_sold company.total_shares 100 %}%" aria-valuenow="{% widthratio company.shares_sold company.total_shares 100 %}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                        <div class="card-footer bg-white border-0">
                            <a href="{% url 'invest_company' company.id %}" class="btn btn-primary w-100">Invest Now</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
            {% if not featured_initiatives and not featured_companies %}
                <div class="col-12 text-center">
                    <p>No featured opportunities available at the moment. Check back soon!</p>
                </div>
            {% endif %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'initiative_list' %}" class="btn btn-outline-primary btn-lg me-2">View All Initiatives</a>
            <a href="{% url 'company_list' %}" class="btn btn-outline-primary btn-lg">Explore Startups</a>
        </div>
    </div>
</section>

<!-- Impact Section -->
<section id="impact" class="py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-md-12 text-center">
                <h2 class="fw-bold">Your Investment Impact</h2>
                <p class="lead text-muted">Track real environmental metrics powered by AI predictions</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card impact-card h-100">
                    <div class="card-body text-center p-4">
                        <i class="fas fa-cloud impact-icon mb-4"></i>
                        <h3>Carbon Emissions</h3>
                        <p>Track CO₂ reductions predicted by our AI model based on your investments.</p>
                        <div class="bg-light p-3 rounded mt-3">
                            <h4 class="mb-0">Avg. Reduction</h4>
                            <p class="display-6 fw-bold text-success mb-0">42%</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card impact-card h-100">
                    <div class="card-body text-center p-4">
                        <i class="fas fa-bolt impact-icon mb-4"></i>
                        <h3>Energy Saved</h3>
                        <p>Measure kWh saved with AI-driven insights from your portfolio.</p>
                        <div class="bg-light p-3 rounded mt-3">
                            <h4 class="mb-0">Avg. per ₹1000</h4>
                            <p class="display-6 fw-bold text-success mb-0">1,200 kWh</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card impact-card h-100">
                    <div class="card-body text-center p-4">
                        <i class="fas fa-tint impact-icon mb-4"></i>
                        <h3>Water Conserved</h3>
                        <p>See liters of water conserved, calculated by our advanced AI model.</p>
                        <div class="bg-light p-3 rounded mt-3">
                            <h4 class="mb-0">Avg. per ₹1000</h4>
                            <p class="display-6 fw-bold text-success mb-0">8,500 L</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonial">
    <div class="container">
        <div class="row mb-5">
            <div class="col-md-12 text-center">
                <h2 class="fw-bold">What Our Investors Say</h2>
                <p class="lead text-muted">Join thousands of satisfied investors making a difference</p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 mb-4">
                <div class="testimonial-card h-100">
                    <div class="d-flex align-items-center mb-4">
                        <img src="https://source.unsplash.com/random/100x100/?portrait,woman" class="rounded-circle me-3" width="60" alt="Investor">
                        <div>
                            <h5 class="mb-0">Sarah Johnson</h5>
                            <p class="text-muted mb-0">Investing since 2022</p>
                        </div>
                    </div>
                    <p class="mb-0">"Ecovest’s AI insights helped me pick projects with the biggest impact. It’s empowering to see my money at work!"</p>
                </div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="testimonial-card h-100">
                    <div class="d-flex align-items-center mb-4">
                        <img src="https://source.unsplash.com/random/100x100/?portrait,man" class="rounded-circle me-3" width="60" alt="Investor">
                        <div>
                            <h5 class="mb-0">David Chen</h5>
                            <p class="text-muted mb-0">Investing since 2021</p>
                        </div>
                    </div>
                    <p class="mb-0">"The startup investment option is a game-changer. I love supporting green innovation with real-time impact tracking."</p>
                </div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="testimonial-card h-100">
                    <div class="d-flex align-items-center mb-4">
                        <img src="https://source.unsplash.com/random/100x100/?portrait,woman,professional" class="rounded-circle me-3" width="60" alt="Investor">
                        <div>
                            <h5 class="mb-0">Maya Patel</h5>
                            <p class="text-muted mb-0">Investing since 2023</p>
                        </div>
                    </div>
                    <p class="mb-0">"The AI model’s precision and the ability to invest in startups make Ecovest unbeatable for sustainable investing."</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section id="about" class="py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h2 class="fw-bold mb-4">About Ecovest</h2>
                <p class="lead">We’re on a mission to make sustainable investing accessible to everyone.</p>
                <p>Founded in 2020, Ecovest connects environmentally conscious investors with vetted sustainable initiatives and startup companies across renewable energy, conservation, clean water, and green technology sectors.</p>
                <p>Leveraging an advanced AI model trained on real-world data, we predict the environmental impact of your investments—carbon reduced, energy saved, and water conserved—ensuring transparency and precision. Our team of financial and environmental experts evaluates each opportunity for impact and viability.</p>
                <div class="mt-4">
                    <a href="#" class="btn btn-primary me-2">Our Team</a>
                    <a href="{% url 'learn_more' %}" class="btn btn-outline-primary">Learn More</a>
                </div>
            </div>
            <div class="col-lg-6">
                <img src="{% static 'images/about.jpg' %}" alt="About Ecovest" class="img-fluid rounded shadow">
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-4">Ready to Start Your Green Investment Journey?</h2>
                <p class="lead mb-4">Join thousands of investors funding initiatives and startups for profit and planet.</p>
                <a href="{% url 'register' %}" class="btn btn-light btn-lg me-2 mb-2 mb-md-0">Create Account</a>
                <a href="{% url 'initiative_list' %}" class="btn btn-outline-light btn-lg">Schedule a Demo</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}